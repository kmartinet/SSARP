<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>SSARP (Species-/Speciation-Area Relationship Projector) • SSARP</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="SSARP (Species-/Speciation-Area Relationship Projector)">
<meta name="description" content="Create Species- and Speciation-Area Relationships for any taxa.">
<meta property="og:description" content="Create Species- and Speciation-Area Relationships for any taxa.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">SSARP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/Create_SAR.html">Create Species-Area Relationship</a></li>
    <li><a class="dropdown-item" href="articles/Create_SpAR.html">Create Speciation-Area Relationship</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kmartinet/SSARP/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ssarp">SSARP<a class="anchor" aria-label="anchor" href="#ssarp"></a>
</h1></div>
<p><!-- badges: start --> <a href="https://codecov.io/gh/kmartinet/SSARP?branch=main" class="external-link"><img src="https://codecov.io/gh/kmartinet/SSARP/branch/main/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://github.com/kmartinet/SSARP/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/kmartinet/SSARP/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a> <!-- badges: end --></p>
<p>SSARP (Species-/Speciation-Area Relationship Projector) is an R package that provides a suite of functions to help users <strong>create speciation- and species-area relationships for island-dwelling taxa</strong> using occurrence data from GBIF (Global Biodiversity Information Facility) accessed via GBIF’s API or the user’s own occurrence data.</p>
<p>Please find the <a href="https://www.biorxiv.org/content/10.1101/2024.12.31.630948v1" class="external-link">bioRxiv preprint of the manuscript associated with <em>SSARP</em> here!</a></p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>To install <em>SSARP</em>, use the “install_github” function from the <em>devtools</em> package:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"kmartinet/SSARP"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="basic-workflow---using-data-from-gbif-to-create-a-species-area-relationship-plot">Basic Workflow - Using data from GBIF to create a species-area relationship plot<a class="anchor" aria-label="anchor" href="#basic-workflow---using-data-from-gbif-to-create-a-species-area-relationship-plot"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Use <strong>getKey(query, rank)</strong> to find the unique identifying key associated with your taxon of interest.<br>
</li>
<li>Use <strong>getData(key, limit)</strong> with the key found in Step 1 to access <em>limit</em> occurrence points from GBIF. There is a hard limit of 100,000 records for each call to <strong>getData()</strong>, as set by <a href="https://www.gbif.org/tool/81747/rgbif" class="external-link"><em>rgbif</em></a>.<br>
</li>
<li>Use <strong>findLand(occ)</strong> with the dataframe obtained in Step 2 to figure out the names of landmasses using the occurrence record GPS points and the <a href="https://cran.r-project.org/web/packages/maps/index.html" class="external-link"><em>maps</em> R package</a>.<br>
</li>
<li>Use <strong>findAreas(occ)</strong> with the dataframe obtained in Step 3 to match the landmass names to a dataset that includes names of most islands on the planet and their areas. 4a. If you’d like to only include occurrence records from islands, you can remove continental records by using <strong>removeContinents(occ)</strong> with the dataframe returned by <strong>findAreas()</strong>
</li>
<li>Use <strong>SARP(occ, npsi)</strong> with the dataframe obtained in Step 4 to create a species-area relationship plot that reports information important to the associated regression. The <em>npsi</em> parameter indicates how many breakpoints the user would like the segmented regression to include. A near-future update of this package will include automatic model selection for the optimal npsi when the user is unsure of how many breakpoints are appropriate for their occurrence dataset.</li>
</ol>
</div>
<div class="section level3">
<h3 id="use-data-from-gbif-and-a-user-provided-phylogenetic-tree-to-create-a-speciation-area-relationship-plot">Use data from GBIF and a user-provided phylogenetic tree to create a speciation-area relationship plot<a class="anchor" aria-label="anchor" href="#use-data-from-gbif-and-a-user-provided-phylogenetic-tree-to-create-a-speciation-area-relationship-plot"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Use <strong>getKey(query, rank)</strong> to find the unique identifying key associated with your taxon of interest.</li>
<li>Use <strong>getData(key, limit)</strong> with the key found in Step 1 to access <em>limit</em> occurrence points from GBIF. There is a hard limit of 100,000 records for each call to <strong>getData()</strong>, as set by <a href="https://www.gbif.org/tool/81747/rgbif" class="external-link"><em>rgbif</em></a>.</li>
<li>Use <strong>findLand(occ)</strong> with the dataframe obtained in Step 2 to figure out the names of landmasses using the occurrence record GPS points and the <a href="https://cran.r-project.org/web/packages/maps/index.html" class="external-link"><em>maps</em> R package</a>.</li>
<li>Use <strong>findAreas(occ)</strong> with the dataframe obtained in Step 3 to match the landmass names to a dataset that includes names of most islands on the planet and their areas.</li>
<li>Use either <strong>speciationDR(tree, label_type, occ)</strong> or <strong>speciationMS(tree, label_type, occ)</strong> with your own phylogenetic tree that corresponds with the taxa signified in previous steps, a classifier that describes your tip labels (whether the tip labels are simply species epithets or full scientific names), and the dataframe obtained in Step 4 to add tip speciation rates using the DR statistic (Jetz et al. 2012) or the lambda calculation for crown groups from Magallόn and Sanderson (2001) respectively to the occurrence dataframe. The user may also choose to estimate tip speciation rates from a BAMM analysis (Rabosky 2014) by using <strong>speciationBAMM(label_type, occ, edata)</strong> with a classifier that describes your tip labels (whether the tip labels are simply species epithets or full scientific names), the occurrence record dataframe obtained in Step 4, and a bammdata object generated by reading the event data file from a BAMM analysis with the <em>BAMMtools</em> package (Rabosky et al. 2014).</li>
<li>Use <strong>SpeARP(occ, npsi)</strong> with the dataframe obtained in Step 5 to create a speciation-area relationship plot that reports information important to the associated regression. The <em>npsi</em> parameter indicates the maximum number of breakpoints the user would like to compare for model selection. The returned model and plot correspond with the best-fit model.</li>
</ol>
</div>
<div class="section level3">
<h3 id="some-helpful-notes-about-well-known-text-wkt-representation-of-geometry">Some helpful notes about well-known text (WKT) representation of geometry<a class="anchor" aria-label="anchor" href="#some-helpful-notes-about-well-known-text-wkt-representation-of-geometry"></a>
</h3>
<p>When running getData(), the user can specify a well-known text (WKT) representation of geometry to restrict the geographic location of the returned occurrence records. The rgbif::occ_search function that getData() calls requires a counter-clockwise winding order for WKT. I find it helpful to think about WKT polygons in this way: imagine a square around your geographic area of interest and pick one of the corners as a starting point. The order of points in WKT format should follow counter-clockwise from the corner you picked first, and the final entry in the WKT string needs to be the same as the first entry. Additionally, while GPS points are typcially represented in “latitude, longitude” format, WKT expects them in “longitude latitude” format with commas separating the points rather than individual longitude and latitude values. WKT polygons can have more specified points than included in this simple square example, and even include polygons nested within others or polygons with holes in the middle.</p>
<div class="section level4">
<h4 id="literature-cited">Literature Cited<a class="anchor" aria-label="anchor" href="#literature-cited"></a>
</h4>
<p>Jetz, W., Thomas, G.H, Joy, J.B., Harmann, K., &amp; Mooers, A.O. (2012). The global diversity of birds in space and time. <em>Nature</em>, 491: 444-448. Magallόn, S. &amp; Sanderson, M.J. (2001). Absolute Diversification Rates in Angiosperm Clades. <em>Evolution</em>, 55(9): 1762-1780. Rabosky, D.L. (2014). Automatic Detection of Key Innovations, Rate Shifts, and Diversity-Dependence on Phylogenetic Trees. PLOS ONE, 9(2): e89543.436 Rabosky, D.L., Grundler, M., Anderson, C., Title, P., Shi, J.J., Brown, J.W., Huang, H., &amp; Larson, J.G. (2014). BAMMtools: an R package for the analysis of evolutionary dynamics on phylogenetic trees. Methods in Ecology and Evolution, 5: 701-707.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/kmartinet/SSARP/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/kmartinet/SSARP/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;=2)</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing SSARP</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Kristen Martinet <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kristen Martinet.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
